<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>APM:Libraries: libraries/AP_Compass/Compass.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">APM:Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_65717d02e6482fd400ba81c154f53df4.html">AP_Compass</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Compass.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Compass_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef Compass_h</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#define Compass_h</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;inttypes.h&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="GCS__MAVLink_8h.html">GCS_MAVLink/GCS_MAVLink.h</a>&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CompassCalibrator_8h.html">CompassCalibrator.h</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Common_8h.html">AP_Common/AP_Common.h</a>&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Param_8h.html">AP_Param/AP_Param.h</a>&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Math_8h.html">AP_Math/AP_Math.h</a>&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Declination_8h.html">AP_Declination/AP_Declination.h</a>&gt;</span> <span class="comment">// ArduPilot Mega Declination Helper Library</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__HAL_8h.html">AP_HAL/AP_HAL.h</a>&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Compass__Backend_8h.html">AP_Compass_Backend.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// compass product id</span></div>
<div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="Compass_8h.html#a3089a7f6fad5ad5e41c982cef0abc470">   16</a></span>&#160;<span class="preprocessor">#define AP_COMPASS_TYPE_UNKNOWN         0x00</span></div>
<div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="Compass_8h.html#af1ae5e6b47b64599a2b221435cbeaf73">   17</a></span>&#160;<span class="preprocessor">#define AP_COMPASS_TYPE_HIL             0x01</span></div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="Compass_8h.html#addeb95c4d4f256837f717b46d9ec9c86">   18</a></span>&#160;<span class="preprocessor">#define AP_COMPASS_TYPE_HMC5843         0x02</span></div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="Compass_8h.html#a34c745e27294ad2a73ed9961a38b3768">   19</a></span>&#160;<span class="preprocessor">#define AP_COMPASS_TYPE_HMC5883L        0x03</span></div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="Compass_8h.html#ac7979858722d4d49c469eb838771d19e">   20</a></span>&#160;<span class="preprocessor">#define AP_COMPASS_TYPE_PX4             0x04</span></div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="Compass_8h.html#ae08f60b8f31dc1abdab1e24e7e6cc265">   21</a></span>&#160;<span class="preprocessor">#define AP_COMPASS_TYPE_VRBRAIN         0x05</span></div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="Compass_8h.html#a4c6921b74eeaa6ae9c70ec50074121c8">   22</a></span>&#160;<span class="preprocessor">#define AP_COMPASS_TYPE_AK8963_MPU9250  0x06</span></div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="Compass_8h.html#ab31ee8ada1dba2e261dc36bbbe1eed1e">   23</a></span>&#160;<span class="preprocessor">#define AP_COMPASS_TYPE_AK8963_I2C      0x07</span></div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="Compass_8h.html#a3e95af35ced649b9e72ee88f1706624a">   24</a></span>&#160;<span class="preprocessor">#define AP_COMPASS_TYPE_LSM303D         0x08</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// motor compensation types (for use with motor_comp_enabled)</span></div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="Compass_8h.html#aea476312c9a32f19ab3a0d62f4027869">   27</a></span>&#160;<span class="preprocessor">#define AP_COMPASS_MOT_COMP_DISABLED    0x00</span></div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="Compass_8h.html#abcc8f45d824956d37bc5dad4710611b4">   28</a></span>&#160;<span class="preprocessor">#define AP_COMPASS_MOT_COMP_THROTTLE    0x01</span></div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="Compass_8h.html#aa22be79a45fb28cb3160eacdf5ad4432">   29</a></span>&#160;<span class="preprocessor">#define AP_COMPASS_MOT_COMP_CURRENT     0x02</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// setup default mag orientation for some board types</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#if CONFIG_HAL_BOARD == HAL_BOARD_LINUX &amp;&amp; CONFIG_HAL_BOARD_SUBTYPE == HAL_BOARD_SUBTYPE_LINUX_RASPILOT</span></div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="Compass_8h.html#aa61c5cc48785eef1f5b2143fa77a50e7">   33</a></span>&#160;<span class="preprocessor"># define MAG_BOARD_ORIENTATION ROTATION_ROLL_180</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#elif CONFIG_HAL_BOARD == HAL_BOARD_LINUX &amp;&amp; CONFIG_HAL_BOARD_SUBTYPE == HAL_BOARD_SUBTYPE_LINUX_BEBOP</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor"># define MAG_BOARD_ORIENTATION ROTATION_YAW_90</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor"># define MAG_BOARD_ORIENTATION ROTATION_NONE</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="Compass_8h.html#a0a6a0f28d3465747ea15e7d9091994de">   44</a></span>&#160;<span class="preprocessor">#define COMPASS_MAX_INSTANCES 3</span></div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="Compass_8h.html#a5ae256887a80a65f39d06f1cb2cbfacb">   45</a></span>&#160;<span class="preprocessor">#define COMPASS_MAX_BACKEND   3</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">//MAXIMUM COMPASS REPORTS</span></div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="Compass_8h.html#a356a8f4d14c94453a58d2ba9f3dd56c2">   48</a></span>&#160;<span class="preprocessor">#define MAX_CAL_REPORTS 10</span></div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="Compass_8h.html#aa80311c7b22cdd16ae4906e714ac6273">   49</a></span>&#160;<span class="preprocessor">#define CONTINUOUS_REPORTS 0</span></div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="Compass_8h.html#a55cc3f7c59fe257f8926d02f8462aa20">   50</a></span>&#160;<span class="preprocessor">#define AP_COMPASS_MAX_XYZ_ANG_DIFF radians(50.0f)</span></div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="Compass_8h.html#a8bc3b9dad383e949bb7a78683f027132">   51</a></span>&#160;<span class="preprocessor">#define AP_COMPASS_MAX_XY_ANG_DIFF radians(30.0f)</span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="Compass_8h.html#a062f390a5503097ca313e53f277d1f64">   52</a></span>&#160;<span class="preprocessor">#define AP_COMPASS_MAX_XY_LENGTH_DIFF 100.0f</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="classCompass.html">   54</a></span>&#160;<span class="keyword">class </span><a class="code" href="classCompass.html">Compass</a></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;{</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="classCompass.html#a87e4a2c4ccbb3b8c126a75a1c8539e44">   56</a></span>&#160;<span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classAP__Compass__Backend.html">AP_Compass_Backend</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="classCompass.html#a68bd2a073cc0d461b2b46529aae04765">Compass</a>();</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a190aefc281aba88c7b16e4fc58035c5e">init</a>();</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a2593e947a6c8a4937dccd2d367158b74">read</a>();    </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#aa3372aa51bd41b1d3ee3a9234a4396a0">accumulate</a>();</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="classCompass.html#aeef734d2cd69c8c0c3efa182ec7f80bb">calculate_heading</a>(<span class="keyword">const</span> <a class="code" href="classMatrix3.html">Matrix3f</a> &amp;dcm_matrix) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a18ec405430e055e4a01912a8ca73cbc3">set_offsets</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;offsets);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#afeac6bcfad2650762cccda72dbce3e69">set_and_save_offsets</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;offsets);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#ae581710aa79ddf7abce3b3893bb08ea5">set_and_save_diagonals</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;diagonals);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a6728a7129a64d973461b9d5eb95dc81a">set_and_save_offdiagonals</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;diagonals);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#abfc394b43272d5a6e97001232e201b7f">save_offsets</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#abfc394b43272d5a6e97001232e201b7f">save_offsets</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// return the number of compass instances</span></div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="classCompass.html#a7bc9b45433e47cbd2632578388882135">  112</a></span>&#160;    uint8_t <a class="code" href="classCompass.html#a7bc9b45433e47cbd2632578388882135">get_count</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#afd52e3b95b4813b56a79742c0d98e6e4">_compass_count</a>; }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="classCompass.html#aa1f44c7920bbd147fa2e58bfedd3c4bb">  115</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;<a class="code" href="classCompass.html#aa1f44c7920bbd147fa2e58bfedd3c4bb">get_field</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structCompass_1_1mag__state.html#ab28e5dcaf24ec01fef67b8b5c5a84a9e">field</a>; }</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="classCompass.html#a22ce936207eeda5d3fa55237271cef3e">  116</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;<a class="code" href="classCompass.html#a22ce936207eeda5d3fa55237271cef3e">get_field</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a22ce936207eeda5d3fa55237271cef3e">get_field</a>(<a class="code" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">get_primary</a>()); }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// raw/unfiltered measurement interface</span></div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="classCompass.html#a1c24e0566321d2f34d263ad6c1217993">  119</a></span>&#160;    uint32_t <a class="code" href="classCompass.html#a1c24e0566321d2f34d263ad6c1217993">raw_meas_time_us</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structCompass_1_1mag__state.html#a12578a6e208201a8c32585f6e965f8d4">raw_meas_time_us</a>; }</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="classCompass.html#a276e3af5416f2f349199509359d1ec18">  120</a></span>&#160;    uint32_t <a class="code" href="classCompass.html#a276e3af5416f2f349199509359d1ec18">raw_meas_time_us</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">get_primary</a>()].<a class="code" href="structCompass_1_1mag__state.html#a12578a6e208201a8c32585f6e965f8d4">raw_meas_time_us</a>; }</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="classCompass.html#a273125758d0b29b37695561758723d49">  121</a></span>&#160;    uint32_t <a class="code" href="classCompass.html#a273125758d0b29b37695561758723d49">unfiltered_meas_time_us</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structCompass_1_1mag__state.html#a12578a6e208201a8c32585f6e965f8d4">raw_meas_time_us</a>; }</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="classCompass.html#ab0da9e7538e2cbcd0c65dcb4bc643515">  122</a></span>&#160;    uint32_t <a class="code" href="classCompass.html#ab0da9e7538e2cbcd0c65dcb4bc643515">unfiltered_meas_time_us</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">get_primary</a>()].<a class="code" href="structCompass_1_1mag__state.html#a12578a6e208201a8c32585f6e965f8d4">raw_meas_time_us</a>; }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="classCompass.html#a4f0f86b73fbdacf5f11fef28c983f9da">  124</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a4f0f86b73fbdacf5f11fef28c983f9da">has_raw_field</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structCompass_1_1mag__state.html#aba99d37734a9fddfde095a1323c43526">has_raw_field</a>; }</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="classCompass.html#a744abf5d30fae4c6551f2c447560f8fa">  125</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a744abf5d30fae4c6551f2c447560f8fa">has_raw_field</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a744abf5d30fae4c6551f2c447560f8fa">has_raw_field</a>(<a class="code" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">get_primary</a>()); }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="classCompass.html#a0f76e117994a57381f974fda9f84f2cc">  127</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a0f76e117994a57381f974fda9f84f2cc">has_unfiltered_field</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structCompass_1_1mag__state.html#ab0cb160309eea64a4bdf1bab4fcaf416">has_unfiltered_field</a>; }</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="classCompass.html#afcd5400d5c40a0794abd3e9fa100a5dc">  128</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#afcd5400d5c40a0794abd3e9fa100a5dc">has_unfiltered_field</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#afcd5400d5c40a0794abd3e9fa100a5dc">has_unfiltered_field</a>(<a class="code" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">get_primary</a>()); }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="classCompass.html#a192e59039701f1fb907b21c9b3f3b62a">  130</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;<a class="code" href="classCompass.html#a192e59039701f1fb907b21c9b3f3b62a">get_raw_field</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structCompass_1_1mag__state.html#a8042f2440f0200748a1bbce46c501ca2">raw_field</a>; }</div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="classCompass.html#a78575fc3a6551cc240b054648df6ba10">  131</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;<a class="code" href="classCompass.html#a78575fc3a6551cc240b054648df6ba10">get_raw_field</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a78575fc3a6551cc240b054648df6ba10">get_raw_field</a>(<a class="code" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">get_primary</a>()); }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="classCompass.html#a99731aec1940f2702174b585a63478ac">  133</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;<a class="code" href="classCompass.html#a99731aec1940f2702174b585a63478ac">get_unfiltered_field</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structCompass_1_1mag__state.html#a14560f989897ea13f9c332946a8e43cd">unfiltered_field</a>; }</div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="classCompass.html#a0c0d41e4944d22b29417ec1a77b16a73">  134</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;<a class="code" href="classCompass.html#a0c0d41e4944d22b29417ec1a77b16a73">get_unfiltered_field</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a0c0d41e4944d22b29417ec1a77b16a73">get_unfiltered_field</a>(<a class="code" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">get_primary</a>()); }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="comment">// compass calibrator interface</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#ab8b1d18b185660a957d2faf417e9b1dd">compass_cal_update</a>();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a97e272caf765e231931c762f18ecb702">start_calibration</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keywordtype">bool</span> retry=<span class="keyword">false</span>, <span class="keywordtype">bool</span> autosave=<span class="keyword">false</span>, <span class="keywordtype">float</span> delay_sec=0.0<a class="code" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, <span class="keywordtype">bool</span> autoreboot = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a5a23f669e6cf4f280fed608af6bce0c8">start_calibration_all</a>(<span class="keywordtype">bool</span> retry=<span class="keyword">false</span>, <span class="keywordtype">bool</span> autosave=<span class="keyword">false</span>, <span class="keywordtype">float</span> delay_sec=0.0<a class="code" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, <span class="keywordtype">bool</span> autoreboot = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#acccb6989443acfaef01ccbd2463ae3ba">start_calibration_mask</a>(uint8_t mask, <span class="keywordtype">bool</span> retry=<span class="keyword">false</span>, <span class="keywordtype">bool</span> autosave=<span class="keyword">false</span>, <span class="keywordtype">float</span> delay_sec=0.0<a class="code" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, <span class="keywordtype">bool</span> autoreboot=<span class="keyword">false</span>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a7765e5d8a8ec1ba95f248c577ecbfd47">cancel_calibration</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a791e39cdbf2f1aad7ac1c65240160abf">cancel_calibration_all</a>();</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a10aecd9e4288feb1d3bd61f16ed8f3d0">cancel_calibration_mask</a>(uint8_t mask);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#ae72bf1a933ce826e0104e9bf125a128e">accept_calibration</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a167f7ec9707b4c26efd2143af4d0b3bf">accept_calibration_all</a>();</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#ac1342f9bccc9138ebb28d01163bab653">accept_calibration_mask</a>(uint8_t mask);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="classCompass.html#a71d8ad1cb96263dfe4c0f712f14fac97">  151</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a71d8ad1cb96263dfe4c0f712f14fac97">compass_cal_requires_reboot</a>() { <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a7bc505874f47fb595ad6097bdf0ff3af">_cal_complete_requires_reboot</a>; }</div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="classCompass.html#ac3be6d99bcceef7188722b6da5aa8126">  152</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#ac3be6d99bcceef7188722b6da5aa8126">auto_reboot</a>() { <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a506d699426718666f4ccb5641dde9ea7">_compass_cal_autoreboot</a>; }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    uint8_t <a class="code" href="classCompass.html#aff941e70f1cd128a9c64c22163412c36">get_cal_mask</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a79776eee973736f7e2b218d698225dc1">is_calibrating</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">      handle an incoming MAG_CAL command</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    uint8_t <a class="code" href="classCompass.html#a5b92dfeb8382c411fc5cdfe2c35569b0">handle_mag_cal_command</a>(<span class="keyword">const</span> <a class="code" href="struct____mavlink__command__long__t.html">mavlink_command_long_t</a> &amp;packet);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#aa81dfaba861a7072aac805e6cbae25d4">send_mag_cal_progress</a>(<a class="code" href="mavlink__types_8h.html#aa0f38d2f21462ce9ff37bfb2fb43709c">mavlink_channel_t</a> chan);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a17d18b7b6d4fd415595d63d4741d4e83">send_mag_cal_report</a>(<a class="code" href="mavlink__types_8h.html#aa0f38d2f21462ce9ff37bfb2fb43709c">mavlink_channel_t</a> chan);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="comment">// check if the compasses are pointing in the same direction</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a59f46d32a935d4faecc4a28d262c4388">consistent</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="classCompass.html#ae998984ada93f9cee4ea1e5671df9171">  168</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#ae998984ada93f9cee4ea1e5671df9171">healthy</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structCompass_1_1mag__state.html#ad12e4054ec35030309b98a799e9f0df4">healthy</a>; }</div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="classCompass.html#a3be4f1bd3056c7c0d97226f58e9f32f0">  169</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a3be4f1bd3056c7c0d97226f58e9f32f0">healthy</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a3be4f1bd3056c7c0d97226f58e9f32f0">healthy</a>(<a class="code" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">get_primary</a>()); }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    uint8_t <a class="code" href="classCompass.html#a5230a4f55710e532da8f9edd0f2fb77b">get_healthy_mask</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="classCompass.html#a6ef45f63ac177793bf38270cef8228cb">  176</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;<a class="code" href="classCompass.html#a6ef45f63ac177793bf38270cef8228cb">get_offsets</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structCompass_1_1mag__state.html#a3e2ff88eb37ae470b4c1b4b3c232305e">offset</a>; }</div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="classCompass.html#a46431b5638dd088dd4a09026109544f2">  177</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;<a class="code" href="classCompass.html#a46431b5638dd088dd4a09026109544f2">get_offsets</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a46431b5638dd088dd4a09026109544f2">get_offsets</a>(<a class="code" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">get_primary</a>()); }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a95d49517b12183412d9d0ed481b785bf">set_initial_location</a>(int32_t latitude, int32_t longitude);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="classCompass.html#a82c25fb3c34757ee529eeece644c88fc">  193</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a82c25fb3c34757ee529eeece644c88fc">set_and_save_offsets</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keywordtype">int</span> <a class="code" href="DerivativeFilter_8cpp.html#a91f27329cbc70a03207bcee33e2b42fd">x</a>, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> z) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="classCompass.html#afeac6bcfad2650762cccda72dbce3e69">set_and_save_offsets</a>(i, <a class="code" href="vector3_8h.html#af345ad77ba5e240c7ab72b4b2077e754">Vector3f</a>(x, y, z));</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// learn offsets accessor</span></div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="classCompass.html#a532f8a5a087bed8fa8f7c23057028785">  198</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a532f8a5a087bed8fa8f7c23057028785">learn_offsets_enabled</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a9a5653285eb6768ddfe8b7529ba12c03">_learn</a>; }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#aebf060fcb30f98e8d2c158750efa3b10">learn_offsets</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#ac47b570ae40bfba56a659c5ac766a464">use_for_yaw</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#ac47b570ae40bfba56a659c5ac766a464">use_for_yaw</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#ac3584d30eca4e60567613c1b09785505">set_declination</a>(<span class="keywordtype">float</span> <a class="code" href="AP__Math_8h.html#a75b14352ec1c95a8276af9a0813cfdc3">radians</a>, <span class="keywordtype">bool</span> save_to_eeprom = <span class="keyword">true</span>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="classCompass.html#a5051de1d15ee203600422235ab93c88c">get_declination</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">// set overall board orientation</span></div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="classCompass.html#a9b827b915597e590ea05fab467e676b0">  217</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a9b827b915597e590ea05fab467e676b0">set_board_orientation</a>(<span class="keyword">enum</span> <a class="code" href="rotations_8h.html#a4940d1dc528122726d2c8c475657e1a9">Rotation</a> orientation) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <a class="code" href="classCompass.html#a1d376552464c5c5792326561d063ef7e">_board_orientation</a> = orientation;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#ad897fd4be9dd67a65343465614629568">motor_compensation_type</a>(<span class="keyword">const</span> uint8_t comp_type);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="classCompass.html#a336097cfe417d924215ae16a8d54834c">  228</a></span>&#160;    uint8_t <a class="code" href="classCompass.html#a336097cfe417d924215ae16a8d54834c">get_motor_compensation_type</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a53de8105fdd000b28afe20ced1b85d5a">_motor_comp_type</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a307ba851d14fd2ac3b655227812f6b4d">set_motor_compensation</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;motor_comp_factor);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="classCompass.html#a851187d6b05722fb549d2534fa57a1f7">  240</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a>&amp; <a class="code" href="classCompass.html#a851187d6b05722fb549d2534fa57a1f7">get_motor_compensation</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structCompass_1_1mag__state.html#a90887b7c30ed529dc3fecfb36729f9d7">motor_compensation</a>; }</div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="classCompass.html#a7572e44dc0a3d6192a1a1a98627e2fd0">  241</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a>&amp; <a class="code" href="classCompass.html#a7572e44dc0a3d6192a1a1a98627e2fd0">get_motor_compensation</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a7572e44dc0a3d6192a1a1a98627e2fd0">get_motor_compensation</a>(<a class="code" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">get_primary</a>()); }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#adeefda110ce0a02edfb3d344d632777a">save_motor_compensation</a>();</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="classCompass.html#a7eacebe38cd31859f7b5af7d90ff79ed">  253</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;<a class="code" href="classCompass.html#a7eacebe38cd31859f7b5af7d90ff79ed">get_motor_offsets</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structCompass_1_1mag__state.html#a68760988300f793f13dbfecfcc4c2714">motor_offset</a>; }</div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="classCompass.html#a7dd2ed6c298000c620e1919b67a9e029">  254</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;<a class="code" href="classCompass.html#a7dd2ed6c298000c620e1919b67a9e029">get_motor_offsets</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a7dd2ed6c298000c620e1919b67a9e029">get_motor_offsets</a>(<a class="code" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">get_primary</a>()); }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="classCompass.html#a839923d1ee8f5b97644ff9d1fc034fed">  258</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a839923d1ee8f5b97644ff9d1fc034fed">set_throttle</a>(<span class="keywordtype">float</span> thr_pct) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classCompass.html#a53de8105fdd000b28afe20ced1b85d5a">_motor_comp_type</a> == <a class="code" href="Compass_8h.html#abcc8f45d824956d37bc5dad4710611b4">AP_COMPASS_MOT_COMP_THROTTLE</a>) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <a class="code" href="classCompass.html#a6e03b3c0b3eb8e71581562f5054afad3">_thr_or_curr</a> = thr_pct;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="classCompass.html#a655af5eda065627c96838de985e24b57">  266</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a655af5eda065627c96838de985e24b57">set_current</a>(<span class="keywordtype">float</span> amps) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classCompass.html#a53de8105fdd000b28afe20ced1b85d5a">_motor_comp_type</a> == <a class="code" href="Compass_8h.html#aa22be79a45fb28cb3160eacdf5ad4432">AP_COMPASS_MOT_COMP_CURRENT</a>) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <a class="code" href="classCompass.html#a6e03b3c0b3eb8e71581562f5054afad3">_thr_or_curr</a> = amps;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a1479c75532bc97308b1c698b67cf9bcc">configured</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a1479c75532bc97308b1c698b67cf9bcc">configured</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">  283</a></span>&#160;    uint8_t <a class="code" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">get_primary</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a394201f6f17f4cf13643b3e49c69a9cc">_primary</a>; }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">// HIL methods</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordtype">void</span>        <a class="code" href="classCompass.html#a30a8fa22b1e7ee8eec8143732d40716d">setHIL</a>(uint8_t instance, <span class="keywordtype">float</span> roll, <span class="keywordtype">float</span> pitch, <span class="keywordtype">float</span> yaw);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordtype">void</span>        <a class="code" href="classCompass.html#a30a8fa22b1e7ee8eec8143732d40716d">setHIL</a>(uint8_t instance, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;mag);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a>&amp;   <a class="code" href="classCompass.html#a4d696bdfb4d2ab9f0646d413cb6a0ee4">getHIL</a>(uint8_t instance) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordtype">void</span>        <a class="code" href="classCompass.html#a0bc30e897c2c0c412120e1b1337bd1cb">_setup_earth_field</a>();</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">// enable HIL mode</span></div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="classCompass.html#a2dd3a327289199d640892a0e78a2619f">  292</a></span>&#160;    <span class="keywordtype">void</span>        <a class="code" href="classCompass.html#a2dd3a327289199d640892a0e78a2619f">set_hil_mode</a>(<span class="keywordtype">void</span>) { <a class="code" href="classCompass.html#a26a6c969c9e588fb680b04e99edbe811">_hil_mode</a> = <span class="keyword">true</span>; }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">// return last update time in microseconds</span></div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="classCompass.html#a9600516e0dbde9186d3b14b3457af013">  295</a></span>&#160;    uint32_t <a class="code" href="classCompass.html#a9600516e0dbde9186d3b14b3457af013">last_update_usec</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">get_primary</a>()].<a class="code" href="structCompass_1_1mag__state.html#a20f1d85ff86dee5b9bf492b51013e31b">last_update_usec</a>; }</div>
<div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="classCompass.html#a5835c9ad9b48b44bd830041f9ae61015">  296</a></span>&#160;    uint32_t <a class="code" href="classCompass.html#a5835c9ad9b48b44bd830041f9ae61015">last_update_usec</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structCompass_1_1mag__state.html#a20f1d85ff86dee5b9bf492b51013e31b">last_update_usec</a>; }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="classCompass.html#a93d4187acb991b33c5c25f9e16b3b0ce">  298</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a> <a class="code" href="classCompass.html#a93d4187acb991b33c5c25f9e16b3b0ce">var_info</a>[];</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="comment">// HIL variables</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="classCompass.html#affadd7bda9a16ce1c28be3249bad36b1">  302</a></span>&#160;        <a class="code" href="classVector3.html">Vector3f</a> <a class="code" href="classCompass.html#affadd7bda9a16ce1c28be3249bad36b1">Bearth</a>;</div>
<div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="classCompass.html#aeb8bcac3c1fe1fc0b2c2c55259b3ea9b">  303</a></span>&#160;        <span class="keywordtype">float</span> <a class="code" href="classCompass.html#aeb8bcac3c1fe1fc0b2c2c55259b3ea9b">last_declination</a>;</div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="classCompass.html#ab3787292557255d4b935b00fe7a94f68">  304</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a3be4f1bd3056c7c0d97226f58e9f32f0">healthy</a>[<a class="code" href="Compass_8h.html#a0a6a0f28d3465747ea15e7d9091994de">COMPASS_MAX_INSTANCES</a>];</div>
<div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="classCompass.html#a0a8d322a3774f60f4c1577dad3ab016a">  305</a></span>&#160;        <a class="code" href="classVector3.html">Vector3f</a> <a class="code" href="classCompass.html#a0a8d322a3774f60f4c1577dad3ab016a">field</a>[<a class="code" href="Compass_8h.html#a0a6a0f28d3465747ea15e7d9091994de">COMPASS_MAX_INSTANCES</a>];</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    } <a class="code" href="classCompass.html#a4f7de076b1da1af85d05ca8b0753bd9d">_hil</a>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    uint8_t <a class="code" href="classCompass.html#af1b5ea3ff42b02e04526d4be361a1ca1">register_compass</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="comment">// load backend drivers</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a3dac12347d7cb614fea7d8c6735eabbc">_add_backend</a>(<a class="code" href="classAP__Compass__Backend.html">AP_Compass_Backend</a> *backend);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a1c48170d8c8966b22fb150b1634443ec">_detect_backends</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">//keep track of number of calibration reports sent</span></div>
<div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="classCompass.html#afca1e662c8605c65b295800c4dc90d8b">  319</a></span>&#160;    uint8_t <a class="code" href="classCompass.html#afca1e662c8605c65b295800c4dc90d8b">_reports_sent</a>[<a class="code" href="Compass_8h.html#a0a6a0f28d3465747ea15e7d9091994de">COMPASS_MAX_INSTANCES</a>];</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="comment">//autoreboot after compass calibration</span></div>
<div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="classCompass.html#a506d699426718666f4ccb5641dde9ea7">  322</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a506d699426718666f4ccb5641dde9ea7">_compass_cal_autoreboot</a>;</div>
<div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="classCompass.html#a7bc505874f47fb595ad6097bdf0ff3af">  323</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a7bc505874f47fb595ad6097bdf0ff3af">_cal_complete_requires_reboot</a>;</div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="classCompass.html#ae84aa9bde3fceb0e917bed4f84631de6">  324</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#ae84aa9bde3fceb0e917bed4f84631de6">_cal_has_run</a>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">// backend objects</span></div>
<div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="classCompass.html#af46d67cb8eb4bc4c51bb12be6813cfdd">  327</a></span>&#160;    <a class="code" href="classAP__Compass__Backend.html">AP_Compass_Backend</a> *<a class="code" href="classCompass.html#af46d67cb8eb4bc4c51bb12be6813cfdd">_backends</a>[<a class="code" href="Compass_8h.html#a5ae256887a80a65f39d06f1cb2cbfacb">COMPASS_MAX_BACKEND</a>];</div>
<div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="classCompass.html#ac3bf8f6ab108927b2ea704b3dcba1355">  328</a></span>&#160;    uint8_t     <a class="code" href="classCompass.html#ac3bf8f6ab108927b2ea704b3dcba1355">_backend_count</a>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="comment">// number of registered compasses.</span></div>
<div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="classCompass.html#afd52e3b95b4813b56a79742c0d98e6e4">  331</a></span>&#160;    uint8_t     <a class="code" href="classCompass.html#afd52e3b95b4813b56a79742c0d98e6e4">_compass_count</a>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="comment">// settable parameters</span></div>
<div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="classCompass.html#a9a5653285eb6768ddfe8b7529ba12c03">  334</a></span>&#160;    AP_Int8 <a class="code" href="classCompass.html#a9a5653285eb6768ddfe8b7529ba12c03">_learn</a>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">// board orientation from AHRS</span></div>
<div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="classCompass.html#a1d376552464c5c5792326561d063ef7e">  337</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="rotations_8h.html#a4940d1dc528122726d2c8c475657e1a9">Rotation</a> <a class="code" href="classCompass.html#a1d376552464c5c5792326561d063ef7e">_board_orientation</a>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="comment">// primary instance</span></div>
<div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="classCompass.html#a394201f6f17f4cf13643b3e49c69a9cc">  340</a></span>&#160;    AP_Int8     <a class="code" href="classCompass.html#a394201f6f17f4cf13643b3e49c69a9cc">_primary</a>;                           </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="comment">// declination in radians</span></div>
<div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="classCompass.html#a424b78025887b128dd21833cb6e31d0b">  343</a></span>&#160;    AP_Float    <a class="code" href="classCompass.html#a424b78025887b128dd21833cb6e31d0b">_declination</a>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">// enable automatic declination code</span></div>
<div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="classCompass.html#a92a1e23d7ff2ade9024f2145e4e8d0a2">  346</a></span>&#160;    AP_Int8     <a class="code" href="classCompass.html#a92a1e23d7ff2ade9024f2145e4e8d0a2">_auto_declination</a>;                  </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="comment">// first-time-around flag used by offset nulling</span></div>
<div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="classCompass.html#a9eab3a10f235ee9544ceaa11bb220c2c">  349</a></span>&#160;    <span class="keywordtype">bool</span>        <a class="code" href="classCompass.html#a9eab3a10f235ee9544ceaa11bb220c2c">_null_init_done</a>;                           </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">// used by offset correction</span></div>
<div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="classCompass.html#abb757f0add93c16d079a469265e2489b">  352</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="classCompass.html#abb757f0add93c16d079a469265e2489b">_mag_history_size</a> = 20;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">// motor compensation type</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="comment">// 0 = disabled, 1 = enabled for throttle, 2 = enabled for current</span></div>
<div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="classCompass.html#a53de8105fdd000b28afe20ced1b85d5a">  356</a></span>&#160;    AP_Int8     <a class="code" href="classCompass.html#a53de8105fdd000b28afe20ced1b85d5a">_motor_comp_type</a>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="comment">// throttle expressed as a percentage from 0 ~ 1.0 or current expressed in amps</span></div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="classCompass.html#a6e03b3c0b3eb8e71581562f5054afad3">  359</a></span>&#160;    <span class="keywordtype">float</span>       <a class="code" href="classCompass.html#a6e03b3c0b3eb8e71581562f5054afad3">_thr_or_curr</a>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div>
<div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html">  361</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structCompass_1_1mag__state.html">mag_state</a> {</div>
<div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a6e1b66a2e77ea4c79a545bf1951e85a3">  362</a></span>&#160;        AP_Int8     <a class="code" href="structCompass_1_1mag__state.html#a6e1b66a2e77ea4c79a545bf1951e85a3">external</a>;</div>
<div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#ad12e4054ec35030309b98a799e9f0df4">  363</a></span>&#160;        <span class="keywordtype">bool</span>        <a class="code" href="structCompass_1_1mag__state.html#ad12e4054ec35030309b98a799e9f0df4">healthy</a>;</div>
<div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a037376c09d0116a149c11cceac015c6a">  364</a></span>&#160;        AP_Int8     <a class="code" href="structCompass_1_1mag__state.html#a037376c09d0116a149c11cceac015c6a">orientation</a>;</div>
<div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a3e2ff88eb37ae470b4c1b4b3c232305e">  365</a></span>&#160;        AP_Vector3f <a class="code" href="structCompass_1_1mag__state.html#a3e2ff88eb37ae470b4c1b4b3c232305e">offset</a>;</div>
<div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a50dc445d1c9b8ed874a7a7d7054737d2">  366</a></span>&#160;        AP_Vector3f <a class="code" href="structCompass_1_1mag__state.html#a50dc445d1c9b8ed874a7a7d7054737d2">diagonals</a>;</div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a4ac6e96bb0e028b4bad4faba7ecdb8c1">  367</a></span>&#160;        AP_Vector3f <a class="code" href="structCompass_1_1mag__state.html#a4ac6e96bb0e028b4bad4faba7ecdb8c1">offdiagonals</a>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="comment">// device id detected at init.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="comment">// saved to eeprom when offsets are saved allowing ram &amp;</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="comment">// eeprom values to be compared as consistency check</span></div>
<div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#afe6deabcf507751cd66c36639bb9dde0">  372</a></span>&#160;        AP_Int32    <a class="code" href="structCompass_1_1mag__state.html#afe6deabcf507751cd66c36639bb9dde0">dev_id</a>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00374"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a49545b0efc480dbab4a518321a708dc1">  374</a></span>&#160;        AP_Int8     <a class="code" href="structCompass_1_1mag__state.html#a49545b0efc480dbab4a518321a708dc1">use_for_yaw</a>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a05412f5a1f7b78ee7e78d53d225c8b91">  376</a></span>&#160;        uint8_t     <a class="code" href="structCompass_1_1mag__state.html#a05412f5a1f7b78ee7e78d53d225c8b91">mag_history_index</a>;</div>
<div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a96ee1f1d17891437030ed6d2409b4d82">  377</a></span>&#160;        <a class="code" href="classVector3.html">Vector3i</a>    <a class="code" href="structCompass_1_1mag__state.html#a96ee1f1d17891437030ed6d2409b4d82">mag_history</a>[<a class="code" href="classCompass.html#abb757f0add93c16d079a469265e2489b">_mag_history_size</a>];</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="comment">// factors multiplied by throttle and added to compass outputs</span></div>
<div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a90887b7c30ed529dc3fecfb36729f9d7">  380</a></span>&#160;        AP_Vector3f <a class="code" href="structCompass_1_1mag__state.html#a90887b7c30ed529dc3fecfb36729f9d7">motor_compensation</a>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="comment">// latest compensation added to compass</span></div>
<div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a68760988300f793f13dbfecfcc4c2714">  383</a></span>&#160;        <a class="code" href="classVector3.html">Vector3f</a>    <a class="code" href="structCompass_1_1mag__state.html#a68760988300f793f13dbfecfcc4c2714">motor_offset</a>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="comment">// corrected magnetic field strength</span></div>
<div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#ab28e5dcaf24ec01fef67b8b5c5a84a9e">  386</a></span>&#160;        <a class="code" href="classVector3.html">Vector3f</a>    <a class="code" href="structCompass_1_1mag__state.html#ab28e5dcaf24ec01fef67b8b5c5a84a9e">field</a>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="comment">// when we last got data</span></div>
<div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a37a5242ab675b8bdf0ce4246e03c5729">  389</a></span>&#160;        uint32_t    <a class="code" href="structCompass_1_1mag__state.html#a37a5242ab675b8bdf0ce4246e03c5729">last_update_ms</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a20f1d85ff86dee5b9bf492b51013e31b">  390</a></span>&#160;        uint32_t    <a class="code" href="structCompass_1_1mag__state.html#a20f1d85ff86dee5b9bf492b51013e31b">last_update_usec</a>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div>
<div class="line"><a name="l00392"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a12578a6e208201a8c32585f6e965f8d4">  392</a></span>&#160;        uint32_t    <a class="code" href="structCompass_1_1mag__state.html#a12578a6e208201a8c32585f6e965f8d4">raw_meas_time_us</a>;</div>
<div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#aba99d37734a9fddfde095a1323c43526">  393</a></span>&#160;        <span class="keywordtype">bool</span>        <a class="code" href="structCompass_1_1mag__state.html#aba99d37734a9fddfde095a1323c43526">has_raw_field</a>;</div>
<div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#ab0cb160309eea64a4bdf1bab4fcaf416">  394</a></span>&#160;        <span class="keywordtype">bool</span>        <a class="code" href="structCompass_1_1mag__state.html#ab0cb160309eea64a4bdf1bab4fcaf416">has_unfiltered_field</a>;</div>
<div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a93b74e5621415d49bfab16a62244a9af">  395</a></span>&#160;        <span class="keywordtype">bool</span>        <a class="code" href="structCompass_1_1mag__state.html#a93b74e5621415d49bfab16a62244a9af">updated_raw_field</a>;</div>
<div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a5be69b68149519585376df229b62faf2">  396</a></span>&#160;        <span class="keywordtype">bool</span>        <a class="code" href="structCompass_1_1mag__state.html#a5be69b68149519585376df229b62faf2">updated_unfiltered_field</a>;</div>
<div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a8042f2440f0200748a1bbce46c501ca2">  397</a></span>&#160;        <a class="code" href="classVector3.html">Vector3f</a>    <a class="code" href="structCompass_1_1mag__state.html#a8042f2440f0200748a1bbce46c501ca2">raw_field</a>;</div>
<div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a14560f989897ea13f9c332946a8e43cd">  398</a></span>&#160;        <a class="code" href="classVector3.html">Vector3f</a>    <a class="code" href="structCompass_1_1mag__state.html#a14560f989897ea13f9c332946a8e43cd">unfiltered_field</a>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    } <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="Compass_8h.html#a0a6a0f28d3465747ea15e7d9091994de">COMPASS_MAX_INSTANCES</a>];</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="classCompass.html#af18c9c4651e6d74aa1315e4b67779ae7">  401</a></span>&#160;    <a class="code" href="classCompassCalibrator.html">CompassCalibrator</a> <a class="code" href="classCompass.html#af18c9c4651e6d74aa1315e4b67779ae7">_calibrator</a>[<a class="code" href="Compass_8h.html#a0a6a0f28d3465747ea15e7d9091994de">COMPASS_MAX_INSTANCES</a>];</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">// if we want HIL only</span></div>
<div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="classCompass.html#a26a6c969c9e588fb680b04e99edbe811">  404</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a26a6c969c9e588fb680b04e99edbe811">_hil_mode</a>:1;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="classCompass.html#aa539b29e5a1086364381c2b6fc37e37e">  406</a></span>&#160;    AP_Float <a class="code" href="classCompass.html#aa539b29e5a1086364381c2b6fc37e37e">_calibration_threshold</a>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;};</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Compass__Backend_8h.html">AP_Compass_Backend.h</a>&quot;</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Compass__HMC5843_8h.html">AP_Compass_HMC5843.h</a>&quot;</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Compass__HIL_8h.html">AP_Compass_HIL.h</a>&quot;</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Compass__AK8963_8h.html">AP_Compass_AK8963.h</a>&quot;</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Compass__PX4_8h.html">AP_Compass_PX4.h</a>&quot;</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Compass__LSM303D_8h.html">AP_Compass_LSM303D.h</a>&quot;</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="structCompass_1_1mag__state_html_ad12e4054ec35030309b98a799e9f0df4"><div class="ttname"><a href="structCompass_1_1mag__state.html#ad12e4054ec35030309b98a799e9f0df4">Compass::mag_state::healthy</a></div><div class="ttdeci">bool healthy</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00363">Compass.h:363</a></div></div>
<div class="ttc" id="classCompass_html_af1b5ea3ff42b02e04526d4be361a1ca1"><div class="ttname"><a href="classCompass.html#af1b5ea3ff42b02e04526d4be361a1ca1">Compass::register_compass</a></div><div class="ttdeci">uint8_t register_compass(void)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00400">Compass.cpp:400</a></div></div>
<div class="ttc" id="classCompass_html_ae84aa9bde3fceb0e917bed4f84631de6"><div class="ttname"><a href="classCompass.html#ae84aa9bde3fceb0e917bed4f84631de6">Compass::_cal_has_run</a></div><div class="ttdeci">bool _cal_has_run</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00324">Compass.h:324</a></div></div>
<div class="ttc" id="classCompass_html_a92a1e23d7ff2ade9024f2145e4e8d0a2"><div class="ttname"><a href="classCompass.html#a92a1e23d7ff2ade9024f2145e4e8d0a2">Compass::_auto_declination</a></div><div class="ttdeci">AP_Int8 _auto_declination</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00346">Compass.h:346</a></div></div>
<div class="ttc" id="AP__Compass__HMC5843_8h_html"><div class="ttname"><a href="AP__Compass__HMC5843_8h.html">AP_Compass_HMC5843.h</a></div></div>
<div class="ttc" id="classCompass_html_a68bd2a073cc0d461b2b46529aae04765"><div class="ttname"><a href="classCompass.html#a68bd2a073cc0d461b2b46529aae04765">Compass::Compass</a></div><div class="ttdeci">Compass()</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00357">Compass.cpp:357</a></div></div>
<div class="ttc" id="classCompass_html_a5835c9ad9b48b44bd830041f9ae61015"><div class="ttname"><a href="classCompass.html#a5835c9ad9b48b44bd830041f9ae61015">Compass::last_update_usec</a></div><div class="ttdeci">uint32_t last_update_usec(uint8_t i) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00296">Compass.h:296</a></div></div>
<div class="ttc" id="Compass_8h_html_a0a6a0f28d3465747ea15e7d9091994de"><div class="ttname"><a href="Compass_8h.html#a0a6a0f28d3465747ea15e7d9091994de">COMPASS_MAX_INSTANCES</a></div><div class="ttdeci">#define COMPASS_MAX_INSTANCES</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00044">Compass.h:44</a></div></div>
<div class="ttc" id="classCompass_html_ae998984ada93f9cee4ea1e5671df9171"><div class="ttname"><a href="classCompass.html#ae998984ada93f9cee4ea1e5671df9171">Compass::healthy</a></div><div class="ttdeci">bool healthy(uint8_t i) const </div><div class="ttdoc">Return the health of a compass. </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00168">Compass.h:168</a></div></div>
<div class="ttc" id="classCompass_html_a273125758d0b29b37695561758723d49"><div class="ttname"><a href="classCompass.html#a273125758d0b29b37695561758723d49">Compass::unfiltered_meas_time_us</a></div><div class="ttdeci">uint32_t unfiltered_meas_time_us(uint8_t i) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00121">Compass.h:121</a></div></div>
<div class="ttc" id="vector3_8h_html_af345ad77ba5e240c7ab72b4b2077e754"><div class="ttname"><a href="vector3_8h.html#af345ad77ba5e240c7ab72b4b2077e754">Vector3f</a></div><div class="ttdeci">Vector3&lt; float &gt; Vector3f</div><div class="ttdef"><b>Definition:</b> <a href="vector3_8h_source.html#l00219">vector3.h:219</a></div></div>
<div class="ttc" id="classCompass_html_a7bc505874f47fb595ad6097bdf0ff3af"><div class="ttname"><a href="classCompass.html#a7bc505874f47fb595ad6097bdf0ff3af">Compass::_cal_complete_requires_reboot</a></div><div class="ttdeci">bool _cal_complete_requires_reboot</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00323">Compass.h:323</a></div></div>
<div class="ttc" id="classCompass_html_a1c24e0566321d2f34d263ad6c1217993"><div class="ttname"><a href="classCompass.html#a1c24e0566321d2f34d263ad6c1217993">Compass::raw_meas_time_us</a></div><div class="ttdeci">uint32_t raw_meas_time_us(uint8_t i) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00119">Compass.h:119</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a20f1d85ff86dee5b9bf492b51013e31b"><div class="ttname"><a href="structCompass_1_1mag__state.html#a20f1d85ff86dee5b9bf492b51013e31b">Compass::mag_state::last_update_usec</a></div><div class="ttdeci">uint32_t last_update_usec</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00390">Compass.h:390</a></div></div>
<div class="ttc" id="classCompass_html_a9600516e0dbde9186d3b14b3457af013"><div class="ttname"><a href="classCompass.html#a9600516e0dbde9186d3b14b3457af013">Compass::last_update_usec</a></div><div class="ttdeci">uint32_t last_update_usec(void) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00295">Compass.h:295</a></div></div>
<div class="ttc" id="classCompass_html_a9a5653285eb6768ddfe8b7529ba12c03"><div class="ttname"><a href="classCompass.html#a9a5653285eb6768ddfe8b7529ba12c03">Compass::_learn</a></div><div class="ttdeci">AP_Int8 _learn</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00334">Compass.h:334</a></div></div>
<div class="ttc" id="AP__HAL_8h_html"><div class="ttname"><a href="AP__HAL_8h.html">AP_HAL.h</a></div></div>
<div class="ttc" id="classCompass_html_ab0da9e7538e2cbcd0c65dcb4bc643515"><div class="ttname"><a href="classCompass.html#ab0da9e7538e2cbcd0c65dcb4bc643515">Compass::unfiltered_meas_time_us</a></div><div class="ttdeci">uint32_t unfiltered_meas_time_us() const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00122">Compass.h:122</a></div></div>
<div class="ttc" id="classCompass_html_a46431b5638dd088dd4a09026109544f2"><div class="ttname"><a href="classCompass.html#a46431b5638dd088dd4a09026109544f2">Compass::get_offsets</a></div><div class="ttdeci">const Vector3f &amp; get_offsets(void) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00177">Compass.h:177</a></div></div>
<div class="ttc" id="classCompass_html_a506d699426718666f4ccb5641dde9ea7"><div class="ttname"><a href="classCompass.html#a506d699426718666f4ccb5641dde9ea7">Compass::_compass_cal_autoreboot</a></div><div class="ttdeci">bool _compass_cal_autoreboot</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00322">Compass.h:322</a></div></div>
<div class="ttc" id="classCompass_html_a2dd3a327289199d640892a0e78a2619f"><div class="ttname"><a href="classCompass.html#a2dd3a327289199d640892a0e78a2619f">Compass::set_hil_mode</a></div><div class="ttdeci">void set_hil_mode(void)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00292">Compass.h:292</a></div></div>
<div class="ttc" id="classCompass_html_acccb6989443acfaef01ccbd2463ae3ba"><div class="ttname"><a href="classCompass.html#acccb6989443acfaef01ccbd2463ae3ba">Compass::start_calibration_mask</a></div><div class="ttdeci">bool start_calibration_mask(uint8_t mask, bool retry=false, bool autosave=false, float delay_sec=0.0f, bool autoreboot=false)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Compass__Calibration_8cpp_source.html#l00067">AP_Compass_Calibration.cpp:67</a></div></div>
<div class="ttc" id="classAP__Compass__Backend_html"><div class="ttname"><a href="classAP__Compass__Backend.html">AP_Compass_Backend</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Compass__Backend_8h_source.html#l00027">AP_Compass_Backend.h:27</a></div></div>
<div class="ttc" id="GCS__Console_2examples_2Console_2Console_8cpp_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="GCS__Console_2examples_2Console_2Console_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="GCS__Console_2examples_2Console_2Console_8cpp_source.html#l00055">Console.cpp:55</a></div></div>
<div class="ttc" id="classCompass_html_a6728a7129a64d973461b9d5eb95dc81a"><div class="ttname"><a href="classCompass.html#a6728a7129a64d973461b9d5eb95dc81a">Compass::set_and_save_offdiagonals</a></div><div class="ttdeci">void set_and_save_offdiagonals(uint8_t i, const Vector3f &amp;diagonals)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00525">Compass.cpp:525</a></div></div>
<div class="ttc" id="classCompass_html_aebf060fcb30f98e8d2c158750efa3b10"><div class="ttname"><a href="classCompass.html#aebf060fcb30f98e8d2c158750efa3b10">Compass::learn_offsets</a></div><div class="ttdeci">void learn_offsets(void)</div><div class="ttdef"><b>Definition:</b> <a href="Compass__learn_8cpp_source.html#l00029">Compass_learn.cpp:29</a></div></div>
<div class="ttc" id="classCompass_html_a7572e44dc0a3d6192a1a1a98627e2fd0"><div class="ttname"><a href="classCompass.html#a7572e44dc0a3d6192a1a1a98627e2fd0">Compass::get_motor_compensation</a></div><div class="ttdeci">const Vector3f &amp; get_motor_compensation(void) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00241">Compass.h:241</a></div></div>
<div class="ttc" id="classCompass_html_a4f7de076b1da1af85d05ca8b0753bd9d"><div class="ttname"><a href="classCompass.html#a4f7de076b1da1af85d05ca8b0753bd9d">Compass::_hil</a></div><div class="ttdeci">struct Compass::@4 _hil</div></div>
<div class="ttc" id="classCompass_html_a30a8fa22b1e7ee8eec8143732d40716d"><div class="ttname"><a href="classCompass.html#a30a8fa22b1e7ee8eec8143732d40716d">Compass::setHIL</a></div><div class="ttdeci">void setHIL(uint8_t instance, float roll, float pitch, float yaw)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00691">Compass.cpp:691</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a8042f2440f0200748a1bbce46c501ca2"><div class="ttname"><a href="structCompass_1_1mag__state.html#a8042f2440f0200748a1bbce46c501ca2">Compass::mag_state::raw_field</a></div><div class="ttdeci">Vector3f raw_field</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00397">Compass.h:397</a></div></div>
<div class="ttc" id="classCompass_html_a0120c84cc915d5a34aafedc1ce3f5186"><div class="ttname"><a href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">Compass::get_primary</a></div><div class="ttdeci">uint8_t get_primary(void) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00283">Compass.h:283</a></div></div>
<div class="ttc" id="classCompass_html_ac1342f9bccc9138ebb28d01163bab653"><div class="ttname"><a href="classCompass.html#ac1342f9bccc9138ebb28d01163bab653">Compass::accept_calibration_mask</a></div><div class="ttdeci">bool accept_calibration_mask(uint8_t mask)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Compass__Calibration_8cpp_source.html#l00147">AP_Compass_Calibration.cpp:147</a></div></div>
<div class="ttc" id="struct____mavlink__command__long__t_html"><div class="ttname"><a href="struct____mavlink__command__long__t.html">__mavlink_command_long_t</a></div><div class="ttdef"><b>Definition:</b> <a href="mavlink__msg__command__long_8h_source.html#l00005">mavlink_msg_command_long.h:5</a></div></div>
<div class="ttc" id="classCompass_html_a532f8a5a087bed8fa8f7c23057028785"><div class="ttname"><a href="classCompass.html#a532f8a5a087bed8fa8f7c23057028785">Compass::learn_offsets_enabled</a></div><div class="ttdeci">bool learn_offsets_enabled() const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00198">Compass.h:198</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a6e1b66a2e77ea4c79a545bf1951e85a3"><div class="ttname"><a href="structCompass_1_1mag__state.html#a6e1b66a2e77ea4c79a545bf1951e85a3">Compass::mag_state::external</a></div><div class="ttdeci">AP_Int8 external</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00362">Compass.h:362</a></div></div>
<div class="ttc" id="classCompass_html_a190aefc281aba88c7b16e4fc58035c5e"><div class="ttname"><a href="classCompass.html#a190aefc281aba88c7b16e4fc58035c5e">Compass::init</a></div><div class="ttdeci">bool init()</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00384">Compass.cpp:384</a></div></div>
<div class="ttc" id="classCompass_html_afeac6bcfad2650762cccda72dbce3e69"><div class="ttname"><a href="classCompass.html#afeac6bcfad2650762cccda72dbce3e69">Compass::set_and_save_offsets</a></div><div class="ttdeci">void set_and_save_offsets(uint8_t i, const Vector3f &amp;offsets)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00506">Compass.cpp:506</a></div></div>
<div class="ttc" id="AP__Math_8h_html_a75b14352ec1c95a8276af9a0813cfdc3"><div class="ttname"><a href="AP__Math_8h.html#a75b14352ec1c95a8276af9a0813cfdc3">radians</a></div><div class="ttdeci">static float radians(float deg)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Math_8h_source.html#l00195">AP_Math.h:195</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a05412f5a1f7b78ee7e78d53d225c8b91"><div class="ttname"><a href="structCompass_1_1mag__state.html#a05412f5a1f7b78ee7e78d53d225c8b91">Compass::mag_state::mag_history_index</a></div><div class="ttdeci">uint8_t mag_history_index</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00376">Compass.h:376</a></div></div>
<div class="ttc" id="classCompass_html_a6e03b3c0b3eb8e71581562f5054afad3"><div class="ttname"><a href="classCompass.html#a6e03b3c0b3eb8e71581562f5054afad3">Compass::_thr_or_curr</a></div><div class="ttdeci">float _thr_or_curr</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00359">Compass.h:359</a></div></div>
<div class="ttc" id="classCompass_html_a5230a4f55710e532da8f9edd0f2fb77b"><div class="ttname"><a href="classCompass.html#a5230a4f55710e532da8f9edd0f2fb77b">Compass::get_healthy_mask</a></div><div class="ttdeci">uint8_t get_healthy_mask() const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00485">Compass.cpp:485</a></div></div>
<div class="ttc" id="classMatrix3_html"><div class="ttname"><a href="classMatrix3.html">Matrix3&lt; float &gt;</a></div></div>
<div class="ttc" id="classCompass_html_a791e39cdbf2f1aad7ac1c65240160abf"><div class="ttname"><a href="classCompass.html#a791e39cdbf2f1aad7ac1c65240160abf">Compass::cancel_calibration_all</a></div><div class="ttdeci">void cancel_calibration_all()</div><div class="ttdef"><b>Definition:</b> <a href="AP__Compass__Calibration_8cpp_source.html#l00116">AP_Compass_Calibration.cpp:116</a></div></div>
<div class="ttc" id="classCompass_html_a7765e5d8a8ec1ba95f248c577ecbfd47"><div class="ttname"><a href="classCompass.html#a7765e5d8a8ec1ba95f248c577ecbfd47">Compass::cancel_calibration</a></div><div class="ttdeci">void cancel_calibration(uint8_t i)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Compass__Calibration_8cpp_source.html#l00095">AP_Compass_Calibration.cpp:95</a></div></div>
<div class="ttc" id="classCompass_html_a10aecd9e4288feb1d3bd61f16ed8f3d0"><div class="ttname"><a href="classCompass.html#a10aecd9e4288feb1d3bd61f16ed8f3d0">Compass::cancel_calibration_mask</a></div><div class="ttdeci">void cancel_calibration_mask(uint8_t mask)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Compass__Calibration_8cpp_source.html#l00106">AP_Compass_Calibration.cpp:106</a></div></div>
<div class="ttc" id="classCompass_html_aa3372aa51bd41b1d3ee3a9234a4396a0"><div class="ttname"><a href="classCompass.html#aa3372aa51bd41b1d3ee3a9234a4396a0">Compass::accumulate</a></div><div class="ttdeci">void accumulate()</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00463">Compass.cpp:463</a></div></div>
<div class="ttc" id="classCompass_html_ac47b570ae40bfba56a659c5ac766a464"><div class="ttname"><a href="classCompass.html#ac47b570ae40bfba56a659c5ac766a464">Compass::use_for_yaw</a></div><div class="ttdeci">bool use_for_yaw(void) const </div><div class="ttdoc">return true if the compass should be used for yaw calculations </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00579">Compass.cpp:579</a></div></div>
<div class="ttc" id="classCompass_html_a2593e947a6c8a4937dccd2d367158b74"><div class="ttname"><a href="classCompass.html#a2593e947a6c8a4937dccd2d367158b74">Compass::read</a></div><div class="ttdeci">bool read()</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00472">Compass.cpp:472</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_aba99d37734a9fddfde095a1323c43526"><div class="ttname"><a href="structCompass_1_1mag__state.html#aba99d37734a9fddfde095a1323c43526">Compass::mag_state::has_raw_field</a></div><div class="ttdeci">bool has_raw_field</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00393">Compass.h:393</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a12578a6e208201a8c32585f6e965f8d4"><div class="ttname"><a href="structCompass_1_1mag__state.html#a12578a6e208201a8c32585f6e965f8d4">Compass::mag_state::raw_meas_time_us</a></div><div class="ttdeci">uint32_t raw_meas_time_us</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00392">Compass.h:392</a></div></div>
<div class="ttc" id="classCompass_html_a424b78025887b128dd21833cb6e31d0b"><div class="ttname"><a href="classCompass.html#a424b78025887b128dd21833cb6e31d0b">Compass::_declination</a></div><div class="ttdeci">AP_Float _declination</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00343">Compass.h:343</a></div></div>
<div class="ttc" id="classCompass_html_a18ec405430e055e4a01912a8ca73cbc3"><div class="ttname"><a href="classCompass.html#a18ec405430e055e4a01912a8ca73cbc3">Compass::set_offsets</a></div><div class="ttdeci">void set_offsets(uint8_t i, const Vector3f &amp;offsets)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00497">Compass.cpp:497</a></div></div>
<div class="ttc" id="classCompass_html_afcd5400d5c40a0794abd3e9fa100a5dc"><div class="ttname"><a href="classCompass.html#afcd5400d5c40a0794abd3e9fa100a5dc">Compass::has_unfiltered_field</a></div><div class="ttdeci">bool has_unfiltered_field() const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00128">Compass.h:128</a></div></div>
<div class="ttc" id="classCompass_html_a0f76e117994a57381f974fda9f84f2cc"><div class="ttname"><a href="classCompass.html#a0f76e117994a57381f974fda9f84f2cc">Compass::has_unfiltered_field</a></div><div class="ttdeci">bool has_unfiltered_field(uint8_t i) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00127">Compass.h:127</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a50dc445d1c9b8ed874a7a7d7054737d2"><div class="ttname"><a href="structCompass_1_1mag__state.html#a50dc445d1c9b8ed874a7a7d7054737d2">Compass::mag_state::diagonals</a></div><div class="ttdeci">AP_Vector3f diagonals</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00366">Compass.h:366</a></div></div>
<div class="ttc" id="classCompass_html_a307ba851d14fd2ac3b655227812f6b4d"><div class="ttname"><a href="classCompass.html#a307ba851d14fd2ac3b655227812f6b4d">Compass::set_motor_compensation</a></div><div class="ttdeci">void set_motor_compensation(uint8_t i, const Vector3f &amp;motor_comp_factor)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00549">Compass.cpp:549</a></div></div>
<div class="ttc" id="classCompass_html_a7bc9b45433e47cbd2632578388882135"><div class="ttname"><a href="classCompass.html#a7bc9b45433e47cbd2632578388882135">Compass::get_count</a></div><div class="ttdeci">uint8_t get_count(void) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00112">Compass.h:112</a></div></div>
<div class="ttc" id="AP__Compass__PX4_8h_html"><div class="ttname"><a href="AP__Compass__PX4_8h.html">AP_Compass_PX4.h</a></div></div>
<div class="ttc" id="classCompass_html_a655af5eda065627c96838de985e24b57"><div class="ttname"><a href="classCompass.html#a655af5eda065627c96838de985e24b57">Compass::set_current</a></div><div class="ttdeci">void set_current(float amps)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00266">Compass.h:266</a></div></div>
<div class="ttc" id="classCompass_html_a9b827b915597e590ea05fab467e676b0"><div class="ttname"><a href="classCompass.html#a9b827b915597e590ea05fab467e676b0">Compass::set_board_orientation</a></div><div class="ttdeci">void set_board_orientation(enum Rotation orientation)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00217">Compass.h:217</a></div></div>
<div class="ttc" id="Compass_8h_html_a5ae256887a80a65f39d06f1cb2cbfacb"><div class="ttname"><a href="Compass_8h.html#a5ae256887a80a65f39d06f1cb2cbfacb">COMPASS_MAX_BACKEND</a></div><div class="ttdeci">#define COMPASS_MAX_BACKEND</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00045">Compass.h:45</a></div></div>
<div class="ttc" id="classCompass_html_a839923d1ee8f5b97644ff9d1fc034fed"><div class="ttname"><a href="classCompass.html#a839923d1ee8f5b97644ff9d1fc034fed">Compass::set_throttle</a></div><div class="ttdeci">void set_throttle(float thr_pct)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00258">Compass.h:258</a></div></div>
<div class="ttc" id="mavlink__types_8h_html_aa0f38d2f21462ce9ff37bfb2fb43709c"><div class="ttname"><a href="mavlink__types_8h.html#aa0f38d2f21462ce9ff37bfb2fb43709c">mavlink_channel_t</a></div><div class="ttdeci">mavlink_channel_t</div><div class="ttdef"><b>Definition:</b> <a href="mavlink__types_8h_source.html#l00173">mavlink_types.h:173</a></div></div>
<div class="ttc" id="classCompass_html_a0bc30e897c2c0c412120e1b1337bd1cb"><div class="ttname"><a href="classCompass.html#a0bc30e897c2c0c412120e1b1337bd1cb">Compass::_setup_earth_field</a></div><div class="ttdeci">void _setup_earth_field()</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00736">Compass.cpp:736</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a4ac6e96bb0e028b4bad4faba7ecdb8c1"><div class="ttname"><a href="structCompass_1_1mag__state.html#a4ac6e96bb0e028b4bad4faba7ecdb8c1">Compass::mag_state::offdiagonals</a></div><div class="ttdeci">AP_Vector3f offdiagonals</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00367">Compass.h:367</a></div></div>
<div class="ttc" id="GCS__MAVLink_8h_html"><div class="ttname"><a href="GCS__MAVLink_8h.html">GCS_MAVLink.h</a></div><div class="ttdoc">One size fits all header for MAVLink integration. </div></div>
<div class="ttc" id="classCompass_html_af18c9c4651e6d74aa1315e4b67779ae7"><div class="ttname"><a href="classCompass.html#af18c9c4651e6d74aa1315e4b67779ae7">Compass::_calibrator</a></div><div class="ttdeci">CompassCalibrator _calibrator[COMPASS_MAX_INSTANCES]</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00401">Compass.h:401</a></div></div>
<div class="ttc" id="AP__Param_8h_html"><div class="ttname"><a href="AP__Param_8h.html">AP_Param.h</a></div><div class="ttdoc">A system for managing and storing variables that are of general interest to the system. </div></div>
<div class="ttc" id="classCompass_html_a5051de1d15ee203600422235ab93c88c"><div class="ttname"><a href="classCompass.html#a5051de1d15ee203600422235ab93c88c">Compass::get_declination</a></div><div class="ttdeci">float get_declination() const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00603">Compass.cpp:603</a></div></div>
<div class="ttc" id="classCompass_html_a17d18b7b6d4fd415595d63d4741d4e83"><div class="ttname"><a href="classCompass.html#a17d18b7b6d4fd415595d63d4741d4e83">Compass::send_mag_cal_report</a></div><div class="ttdeci">void send_mag_cal_report(mavlink_channel_t chan)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Compass__Calibration_8cpp_source.html#l00211">AP_Compass_Calibration.cpp:211</a></div></div>
<div class="ttc" id="classCompass_html_ae581710aa79ddf7abce3b3893bb08ea5"><div class="ttname"><a href="classCompass.html#ae581710aa79ddf7abce3b3893bb08ea5">Compass::set_and_save_diagonals</a></div><div class="ttdeci">void set_and_save_diagonals(uint8_t i, const Vector3f &amp;diagonals)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00516">Compass.cpp:516</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a5be69b68149519585376df229b62faf2"><div class="ttname"><a href="structCompass_1_1mag__state.html#a5be69b68149519585376df229b62faf2">Compass::mag_state::updated_unfiltered_field</a></div><div class="ttdeci">bool updated_unfiltered_field</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00396">Compass.h:396</a></div></div>
<div class="ttc" id="classCompass_html_ac3be6d99bcceef7188722b6da5aa8126"><div class="ttname"><a href="classCompass.html#ac3be6d99bcceef7188722b6da5aa8126">Compass::auto_reboot</a></div><div class="ttdeci">bool auto_reboot()</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00152">Compass.h:152</a></div></div>
<div class="ttc" id="classCompass_html_a394201f6f17f4cf13643b3e49c69a9cc"><div class="ttname"><a href="classCompass.html#a394201f6f17f4cf13643b3e49c69a9cc">Compass::_primary</a></div><div class="ttdeci">AP_Int8 _primary</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00340">Compass.h:340</a></div></div>
<div class="ttc" id="DerivativeFilter_8cpp_html_a91f27329cbc70a03207bcee33e2b42fd"><div class="ttname"><a href="DerivativeFilter_8cpp.html#a91f27329cbc70a03207bcee33e2b42fd">x</a></div><div class="ttdeci">#define x(i)</div></div>
<div class="ttc" id="classCompass_html_aeb8bcac3c1fe1fc0b2c2c55259b3ea9b"><div class="ttname"><a href="classCompass.html#aeb8bcac3c1fe1fc0b2c2c55259b3ea9b">Compass::last_declination</a></div><div class="ttdeci">float last_declination</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00303">Compass.h:303</a></div></div>
<div class="ttc" id="classCompass_html_a851187d6b05722fb549d2534fa57a1f7"><div class="ttname"><a href="classCompass.html#a851187d6b05722fb549d2534fa57a1f7">Compass::get_motor_compensation</a></div><div class="ttdeci">const Vector3f &amp; get_motor_compensation(uint8_t i) const </div><div class="ttdoc">get motor compensation factors as a vector </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00240">Compass.h:240</a></div></div>
<div class="ttc" id="DerivativeFilter_8cpp_html_a357394e0f6f88c8a57bd893ab28dc8f8"><div class="ttname"><a href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a></div><div class="ttdeci">#define f(i)</div></div>
<div class="ttc" id="classCompass_html"><div class="ttname"><a href="classCompass.html">Compass</a></div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00054">Compass.h:54</a></div></div>
<div class="ttc" id="classCompass_html_a99731aec1940f2702174b585a63478ac"><div class="ttname"><a href="classCompass.html#a99731aec1940f2702174b585a63478ac">Compass::get_unfiltered_field</a></div><div class="ttdeci">const Vector3f &amp; get_unfiltered_field(uint8_t i) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00133">Compass.h:133</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a96ee1f1d17891437030ed6d2409b4d82"><div class="ttname"><a href="structCompass_1_1mag__state.html#a96ee1f1d17891437030ed6d2409b4d82">Compass::mag_state::mag_history</a></div><div class="ttdeci">Vector3i mag_history[_mag_history_size]</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00377">Compass.h:377</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html"><div class="ttname"><a href="structCompass_1_1mag__state.html">Compass::mag_state</a></div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00361">Compass.h:361</a></div></div>
<div class="ttc" id="classCompassCalibrator_html"><div class="ttname"><a href="classCompassCalibrator.html">CompassCalibrator</a></div><div class="ttdef"><b>Definition:</b> <a href="CompassCalibrator_8h_source.html#l00019">CompassCalibrator.h:19</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a3e2ff88eb37ae470b4c1b4b3c232305e"><div class="ttname"><a href="structCompass_1_1mag__state.html#a3e2ff88eb37ae470b4c1b4b3c232305e">Compass::mag_state::offset</a></div><div class="ttdeci">AP_Vector3f offset</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00365">Compass.h:365</a></div></div>
<div class="ttc" id="classCompass_html_a167f7ec9707b4c26efd2143af4d0b3bf"><div class="ttname"><a href="classCompass.html#a167f7ec9707b4c26efd2143af4d0b3bf">Compass::accept_calibration_all</a></div><div class="ttdeci">bool accept_calibration_all()</div><div class="ttdef"><b>Definition:</b> <a href="AP__Compass__Calibration_8cpp_source.html#l00173">AP_Compass_Calibration.cpp:173</a></div></div>
<div class="ttc" id="classCompass_html_a9eab3a10f235ee9544ceaa11bb220c2c"><div class="ttname"><a href="classCompass.html#a9eab3a10f235ee9544ceaa11bb220c2c">Compass::_null_init_done</a></div><div class="ttdeci">bool _null_init_done</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00349">Compass.h:349</a></div></div>
<div class="ttc" id="classCompass_html_afca1e662c8605c65b295800c4dc90d8b"><div class="ttname"><a href="classCompass.html#afca1e662c8605c65b295800c4dc90d8b">Compass::_reports_sent</a></div><div class="ttdeci">uint8_t _reports_sent[COMPASS_MAX_INSTANCES]</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00319">Compass.h:319</a></div></div>
<div class="ttc" id="structAP__Param_1_1GroupInfo_html"><div class="ttname"><a href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00078">AP_Param.h:78</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a037376c09d0116a149c11cceac015c6a"><div class="ttname"><a href="structCompass_1_1mag__state.html#a037376c09d0116a149c11cceac015c6a">Compass::mag_state::orientation</a></div><div class="ttdeci">AP_Int8 orientation</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00364">Compass.h:364</a></div></div>
<div class="ttc" id="classCompass_html_af46d67cb8eb4bc4c51bb12be6813cfdd"><div class="ttname"><a href="classCompass.html#af46d67cb8eb4bc4c51bb12be6813cfdd">Compass::_backends</a></div><div class="ttdeci">AP_Compass_Backend * _backends[COMPASS_MAX_BACKEND]</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00327">Compass.h:327</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a49545b0efc480dbab4a518321a708dc1"><div class="ttname"><a href="structCompass_1_1mag__state.html#a49545b0efc480dbab4a518321a708dc1">Compass::mag_state::use_for_yaw</a></div><div class="ttdeci">AP_Int8 use_for_yaw</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00374">Compass.h:374</a></div></div>
<div class="ttc" id="classCompass_html_a22ce936207eeda5d3fa55237271cef3e"><div class="ttname"><a href="classCompass.html#a22ce936207eeda5d3fa55237271cef3e">Compass::get_field</a></div><div class="ttdeci">const Vector3f &amp; get_field(void) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00116">Compass.h:116</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a14560f989897ea13f9c332946a8e43cd"><div class="ttname"><a href="structCompass_1_1mag__state.html#a14560f989897ea13f9c332946a8e43cd">Compass::mag_state::unfiltered_field</a></div><div class="ttdeci">Vector3f unfiltered_field</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00398">Compass.h:398</a></div></div>
<div class="ttc" id="classCompass_html_a7eacebe38cd31859f7b5af7d90ff79ed"><div class="ttname"><a href="classCompass.html#a7eacebe38cd31859f7b5af7d90ff79ed">Compass::get_motor_offsets</a></div><div class="ttdeci">const Vector3f &amp; get_motor_offsets(uint8_t i) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00253">Compass.h:253</a></div></div>
<div class="ttc" id="classCompass_html_a0a8d322a3774f60f4c1577dad3ab016a"><div class="ttname"><a href="classCompass.html#a0a8d322a3774f60f4c1577dad3ab016a">Compass::field</a></div><div class="ttdeci">Vector3f field[COMPASS_MAX_INSTANCES]</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00305">Compass.h:305</a></div></div>
<div class="ttc" id="classCompass_html_a4f0f86b73fbdacf5f11fef28c983f9da"><div class="ttname"><a href="classCompass.html#a4f0f86b73fbdacf5f11fef28c983f9da">Compass::has_raw_field</a></div><div class="ttdeci">bool has_raw_field(uint8_t i) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00124">Compass.h:124</a></div></div>
<div class="ttc" id="AP__Math_8h_html"><div class="ttname"><a href="AP__Math_8h.html">AP_Math.h</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_afe6deabcf507751cd66c36639bb9dde0"><div class="ttname"><a href="structCompass_1_1mag__state.html#afe6deabcf507751cd66c36639bb9dde0">Compass::mag_state::dev_id</a></div><div class="ttdeci">AP_Int32 dev_id</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00372">Compass.h:372</a></div></div>
<div class="ttc" id="AP__Compass__AK8963_8h_html"><div class="ttname"><a href="AP__Compass__AK8963_8h.html">AP_Compass_AK8963.h</a></div></div>
<div class="ttc" id="classCompass_html_a53de8105fdd000b28afe20ced1b85d5a"><div class="ttname"><a href="classCompass.html#a53de8105fdd000b28afe20ced1b85d5a">Compass::_motor_comp_type</a></div><div class="ttdeci">AP_Int8 _motor_comp_type</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00356">Compass.h:356</a></div></div>
<div class="ttc" id="Compass_8h_html_abcc8f45d824956d37bc5dad4710611b4"><div class="ttname"><a href="Compass_8h.html#abcc8f45d824956d37bc5dad4710611b4">AP_COMPASS_MOT_COMP_THROTTLE</a></div><div class="ttdeci">#define AP_COMPASS_MOT_COMP_THROTTLE</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00028">Compass.h:28</a></div></div>
<div class="ttc" id="classCompass_html_a4d696bdfb4d2ab9f0646d413cb6a0ee4"><div class="ttname"><a href="classCompass.html#a4d696bdfb4d2ab9f0646d413cb6a0ee4">Compass::getHIL</a></div><div class="ttdeci">const Vector3f &amp; getHIL(uint8_t instance) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00730">Compass.cpp:730</a></div></div>
<div class="ttc" id="AP__Compass__LSM303D_8h_html"><div class="ttname"><a href="AP__Compass__LSM303D_8h.html">AP_Compass_LSM303D.h</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_ab0cb160309eea64a4bdf1bab4fcaf416"><div class="ttname"><a href="structCompass_1_1mag__state.html#ab0cb160309eea64a4bdf1bab4fcaf416">Compass::mag_state::has_unfiltered_field</a></div><div class="ttdeci">bool has_unfiltered_field</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00394">Compass.h:394</a></div></div>
<div class="ttc" id="classCompass_html_a1c48170d8c8966b22fb150b1634443ec"><div class="ttname"><a href="classCompass.html#a1c48170d8c8966b22fb150b1634443ec">Compass::_detect_backends</a></div><div class="ttdeci">void _detect_backends(void)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00420">Compass.cpp:420</a></div></div>
<div class="ttc" id="classCompass_html_a5a23f669e6cf4f280fed608af6bce0c8"><div class="ttname"><a href="classCompass.html#a5a23f669e6cf4f280fed608af6bce0c8">Compass::start_calibration_all</a></div><div class="ttdeci">bool start_calibration_all(bool retry=false, bool autosave=false, float delay_sec=0.0f, bool autoreboot=false)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Compass__Calibration_8cpp_source.html#l00081">AP_Compass_Calibration.cpp:81</a></div></div>
<div class="ttc" id="classCompass_html_a6ef45f63ac177793bf38270cef8228cb"><div class="ttname"><a href="classCompass.html#a6ef45f63ac177793bf38270cef8228cb">Compass::get_offsets</a></div><div class="ttdeci">const Vector3f &amp; get_offsets(uint8_t i) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00176">Compass.h:176</a></div></div>
<div class="ttc" id="classCompass_html_a3dac12347d7cb614fea7d8c6735eabbc"><div class="ttname"><a href="classCompass.html#a3dac12347d7cb614fea7d8c6735eabbc">Compass::_add_backend</a></div><div class="ttdeci">void _add_backend(AP_Compass_Backend *backend)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00408">Compass.cpp:408</a></div></div>
<div class="ttc" id="classCompass_html_aa539b29e5a1086364381c2b6fc37e37e"><div class="ttname"><a href="classCompass.html#aa539b29e5a1086364381c2b6fc37e37e">Compass::_calibration_threshold</a></div><div class="ttdeci">AP_Float _calibration_threshold</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00406">Compass.h:406</a></div></div>
<div class="ttc" id="AP__Common_8h_html"><div class="ttname"><a href="AP__Common_8h.html">AP_Common.h</a></div><div class="ttdoc">Common definitions and utility routines for the ArduPilot libraries. </div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a68760988300f793f13dbfecfcc4c2714"><div class="ttname"><a href="structCompass_1_1mag__state.html#a68760988300f793f13dbfecfcc4c2714">Compass::mag_state::motor_offset</a></div><div class="ttdeci">Vector3f motor_offset</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00383">Compass.h:383</a></div></div>
<div class="ttc" id="classCompass_html_ac3584d30eca4e60567613c1b09785505"><div class="ttname"><a href="classCompass.html#ac3584d30eca4e60567613c1b09785505">Compass::set_declination</a></div><div class="ttdeci">void set_declination(float radians, bool save_to_eeprom=true)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00593">Compass.cpp:593</a></div></div>
<div class="ttc" id="classCompass_html_ae72bf1a933ce826e0104e9bf125a128e"><div class="ttname"><a href="classCompass.html#ae72bf1a933ce826e0104e9bf125a128e">Compass::accept_calibration</a></div><div class="ttdeci">bool accept_calibration(uint8_t i)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Compass__Calibration_8cpp_source.html#l00122">AP_Compass_Calibration.cpp:122</a></div></div>
<div class="ttc" id="classCompass_html_a26a6c969c9e588fb680b04e99edbe811"><div class="ttname"><a href="classCompass.html#a26a6c969c9e588fb680b04e99edbe811">Compass::_hil_mode</a></div><div class="ttdeci">bool _hil_mode</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00404">Compass.h:404</a></div></div>
<div class="ttc" id="classCompass_html_ad897fd4be9dd67a65343465614629568"><div class="ttname"><a href="classCompass.html#ad897fd4be9dd67a65343465614629568">Compass::motor_compensation_type</a></div><div class="ttdeci">void motor_compensation_type(const uint8_t comp_type)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00751">Compass.cpp:751</a></div></div>
<div class="ttc" id="AP__Compass__Backend_8h_html"><div class="ttname"><a href="AP__Compass__Backend_8h.html">AP_Compass_Backend.h</a></div></div>
<div class="ttc" id="classCompass_html_ab8b1d18b185660a957d2faf417e9b1dd"><div class="ttname"><a href="classCompass.html#ab8b1d18b185660a957d2faf417e9b1dd">Compass::compass_cal_update</a></div><div class="ttdeci">void compass_cal_update()</div><div class="ttdef"><b>Definition:</b> <a href="AP__Compass__Calibration_8cpp_source.html#l00010">AP_Compass_Calibration.cpp:10</a></div></div>
<div class="ttc" id="classCompass_html_a5b92dfeb8382c411fc5cdfe2c35569b0"><div class="ttname"><a href="classCompass.html#a5b92dfeb8382c411fc5cdfe2c35569b0">Compass::handle_mag_cal_command</a></div><div class="ttdeci">uint8_t handle_mag_cal_command(const mavlink_command_long_t &amp;packet)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Compass__Calibration_8cpp_source.html#l00271">AP_Compass_Calibration.cpp:271</a></div></div>
<div class="ttc" id="classCompass_html_a3be4f1bd3056c7c0d97226f58e9f32f0"><div class="ttname"><a href="classCompass.html#a3be4f1bd3056c7c0d97226f58e9f32f0">Compass::healthy</a></div><div class="ttdeci">bool healthy(void) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00169">Compass.h:169</a></div></div>
<div class="ttc" id="CompassCalibrator_8h_html"><div class="ttname"><a href="CompassCalibrator_8h.html">CompassCalibrator.h</a></div></div>
<div class="ttc" id="classCompass_html_a0c0d41e4944d22b29417ec1a77b16a73"><div class="ttname"><a href="classCompass.html#a0c0d41e4944d22b29417ec1a77b16a73">Compass::get_unfiltered_field</a></div><div class="ttdeci">const Vector3f &amp; get_unfiltered_field(void) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00134">Compass.h:134</a></div></div>
<div class="ttc" id="AP__Declination_8h_html"><div class="ttname"><a href="AP__Declination_8h.html">AP_Declination.h</a></div></div>
<div class="ttc" id="classCompass_html_a336097cfe417d924215ae16a8d54834c"><div class="ttname"><a href="classCompass.html#a336097cfe417d924215ae16a8d54834c">Compass::get_motor_compensation_type</a></div><div class="ttdeci">uint8_t get_motor_compensation_type() const </div><div class="ttdoc">get the motor compensation value. </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00228">Compass.h:228</a></div></div>
<div class="ttc" id="classCompass_html_a93d4187acb991b33c5c25f9e16b3b0ce"><div class="ttname"><a href="classCompass.html#a93d4187acb991b33c5c25f9e16b3b0ce">Compass::var_info</a></div><div class="ttdeci">static const struct AP_Param::GroupInfo var_info[]</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00298">Compass.h:298</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a37a5242ab675b8bdf0ce4246e03c5729"><div class="ttname"><a href="structCompass_1_1mag__state.html#a37a5242ab675b8bdf0ce4246e03c5729">Compass::mag_state::last_update_ms</a></div><div class="ttdeci">uint32_t last_update_ms</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00389">Compass.h:389</a></div></div>
<div class="ttc" id="classCompass_html_afd52e3b95b4813b56a79742c0d98e6e4"><div class="ttname"><a href="classCompass.html#afd52e3b95b4813b56a79742c0d98e6e4">Compass::_compass_count</a></div><div class="ttdeci">uint8_t _compass_count</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00331">Compass.h:331</a></div></div>
<div class="ttc" id="Compass_8h_html_aa22be79a45fb28cb3160eacdf5ad4432"><div class="ttname"><a href="Compass_8h.html#aa22be79a45fb28cb3160eacdf5ad4432">AP_COMPASS_MOT_COMP_CURRENT</a></div><div class="ttdeci">#define AP_COMPASS_MOT_COMP_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00029">Compass.h:29</a></div></div>
<div class="ttc" id="classVector3_html"><div class="ttname"><a href="classVector3.html">Vector3&lt; float &gt;</a></div></div>
<div class="ttc" id="classCompass_html_aa81dfaba861a7072aac805e6cbae25d4"><div class="ttname"><a href="classCompass.html#aa81dfaba861a7072aac805e6cbae25d4">Compass::send_mag_cal_progress</a></div><div class="ttdeci">void send_mag_cal_progress(mavlink_channel_t chan)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Compass__Calibration_8cpp_source.html#l00179">AP_Compass_Calibration.cpp:179</a></div></div>
<div class="ttc" id="classCompass_html_a59f46d32a935d4faecc4a28d262c4388"><div class="ttname"><a href="classCompass.html#a59f46d32a935d4faecc4a28d262c4388">Compass::consistent</a></div><div class="ttdeci">bool consistent() const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00762">Compass.cpp:762</a></div></div>
<div class="ttc" id="classCompass_html_a7dd2ed6c298000c620e1919b67a9e029"><div class="ttname"><a href="classCompass.html#a7dd2ed6c298000c620e1919b67a9e029">Compass::get_motor_offsets</a></div><div class="ttdeci">const Vector3f &amp; get_motor_offsets(void) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00254">Compass.h:254</a></div></div>
<div class="ttc" id="classCompass_html_aa1f44c7920bbd147fa2e58bfedd3c4bb"><div class="ttname"><a href="classCompass.html#aa1f44c7920bbd147fa2e58bfedd3c4bb">Compass::get_field</a></div><div class="ttdeci">const Vector3f &amp; get_field(uint8_t i) const </div><div class="ttdoc">Return the current field as a Vector3f in milligauss. </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00115">Compass.h:115</a></div></div>
<div class="ttc" id="classCompass_html_a79776eee973736f7e2b218d698225dc1"><div class="ttname"><a href="classCompass.html#a79776eee973736f7e2b218d698225dc1">Compass::is_calibrating</a></div><div class="ttdeci">bool is_calibrating() const </div><div class="ttdef"><b>Definition:</b> <a href="AP__Compass__Calibration_8cpp_source.html#l00250">AP_Compass_Calibration.cpp:250</a></div></div>
<div class="ttc" id="rotations_8h_html_a4940d1dc528122726d2c8c475657e1a9"><div class="ttname"><a href="rotations_8h.html#a4940d1dc528122726d2c8c475657e1a9">Rotation</a></div><div class="ttdeci">Rotation</div><div class="ttdoc">-*- tab-width: 4; Mode: C++; c-basic-offset: 4; indent-tabs-mode: nil -*- </div><div class="ttdef"><b>Definition:</b> <a href="rotations_8h_source.html#l00028">rotations.h:28</a></div></div>
<div class="ttc" id="classCompass_html_affadd7bda9a16ce1c28be3249bad36b1"><div class="ttname"><a href="classCompass.html#affadd7bda9a16ce1c28be3249bad36b1">Compass::Bearth</a></div><div class="ttdeci">Vector3f Bearth</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00302">Compass.h:302</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a93b74e5621415d49bfab16a62244a9af"><div class="ttname"><a href="structCompass_1_1mag__state.html#a93b74e5621415d49bfab16a62244a9af">Compass::mag_state::updated_raw_field</a></div><div class="ttdeci">bool updated_raw_field</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00395">Compass.h:395</a></div></div>
<div class="ttc" id="classCompass_html_aeef734d2cd69c8c0c3efa182ec7f80bb"><div class="ttname"><a href="classCompass.html#aeef734d2cd69c8c0c3efa182ec7f80bb">Compass::calculate_heading</a></div><div class="ttdeci">float calculate_heading(const Matrix3f &amp;dcm_matrix) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00612">Compass.cpp:612</a></div></div>
<div class="ttc" id="classCompass_html_a276e3af5416f2f349199509359d1ec18"><div class="ttname"><a href="classCompass.html#a276e3af5416f2f349199509359d1ec18">Compass::raw_meas_time_us</a></div><div class="ttdeci">uint32_t raw_meas_time_us() const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00120">Compass.h:120</a></div></div>
<div class="ttc" id="classCompass_html_abfc394b43272d5a6e97001232e201b7f"><div class="ttname"><a href="classCompass.html#abfc394b43272d5a6e97001232e201b7f">Compass::save_offsets</a></div><div class="ttdeci">void save_offsets(void)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00541">Compass.cpp:541</a></div></div>
<div class="ttc" id="classCompass_html_ac3bf8f6ab108927b2ea704b3dcba1355"><div class="ttname"><a href="classCompass.html#ac3bf8f6ab108927b2ea704b3dcba1355">Compass::_backend_count</a></div><div class="ttdeci">uint8_t _backend_count</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00328">Compass.h:328</a></div></div>
<div class="ttc" id="AP__Compass__HIL_8h_html"><div class="ttname"><a href="AP__Compass__HIL_8h.html">AP_Compass_HIL.h</a></div></div>
<div class="ttc" id="classCompass_html_a82c25fb3c34757ee529eeece644c88fc"><div class="ttname"><a href="classCompass.html#a82c25fb3c34757ee529eeece644c88fc">Compass::set_and_save_offsets</a></div><div class="ttdeci">void set_and_save_offsets(uint8_t i, int x, int y, int z)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00193">Compass.h:193</a></div></div>
<div class="ttc" id="classCompass_html_a1479c75532bc97308b1c698b67cf9bcc"><div class="ttname"><a href="classCompass.html#a1479c75532bc97308b1c698b67cf9bcc">Compass::configured</a></div><div class="ttdeci">bool configured(void)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00680">Compass.cpp:680</a></div></div>
<div class="ttc" id="classCompass_html_a192e59039701f1fb907b21c9b3f3b62a"><div class="ttname"><a href="classCompass.html#a192e59039701f1fb907b21c9b3f3b62a">Compass::get_raw_field</a></div><div class="ttdeci">const Vector3f &amp; get_raw_field(uint8_t i) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00130">Compass.h:130</a></div></div>
<div class="ttc" id="classCompass_html_a71d8ad1cb96263dfe4c0f712f14fac97"><div class="ttname"><a href="classCompass.html#a71d8ad1cb96263dfe4c0f712f14fac97">Compass::compass_cal_requires_reboot</a></div><div class="ttdeci">bool compass_cal_requires_reboot()</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00151">Compass.h:151</a></div></div>
<div class="ttc" id="classCompass_html_aff941e70f1cd128a9c64c22163412c36"><div class="ttname"><a href="classCompass.html#aff941e70f1cd128a9c64c22163412c36">Compass::get_cal_mask</a></div><div class="ttdeci">uint8_t get_cal_mask() const </div><div class="ttdef"><b>Definition:</b> <a href="AP__Compass__Calibration_8cpp_source.html#l00256">AP_Compass_Calibration.cpp:256</a></div></div>
<div class="ttc" id="classCompass_html_a78575fc3a6551cc240b054648df6ba10"><div class="ttname"><a href="classCompass.html#a78575fc3a6551cc240b054648df6ba10">Compass::get_raw_field</a></div><div class="ttdeci">const Vector3f &amp; get_raw_field(void) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00131">Compass.h:131</a></div></div>
<div class="ttc" id="classCompass_html_aa953947e6a3d5acc0504e3f7c1e6b61d"><div class="ttname"><a href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">Compass::_state</a></div><div class="ttdeci">struct Compass::mag_state _state[COMPASS_MAX_INSTANCES]</div></div>
<div class="ttc" id="classCompass_html_a95d49517b12183412d9d0ed481b785bf"><div class="ttname"><a href="classCompass.html#a95d49517b12183412d9d0ed481b785bf">Compass::set_initial_location</a></div><div class="ttdeci">void set_initial_location(int32_t latitude, int32_t longitude)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00564">Compass.cpp:564</a></div></div>
<div class="ttc" id="classCompass_html_a1d376552464c5c5792326561d063ef7e"><div class="ttname"><a href="classCompass.html#a1d376552464c5c5792326561d063ef7e">Compass::_board_orientation</a></div><div class="ttdeci">enum Rotation _board_orientation</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00337">Compass.h:337</a></div></div>
<div class="ttc" id="classCompass_html_a97e272caf765e231931c762f18ecb702"><div class="ttname"><a href="classCompass.html#a97e272caf765e231931c762f18ecb702">Compass::start_calibration</a></div><div class="ttdeci">bool start_calibration(uint8_t i, bool retry=false, bool autosave=false, float delay_sec=0.0f, bool autoreboot=false)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Compass__Calibration_8cpp_source.html#l00043">AP_Compass_Calibration.cpp:43</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a90887b7c30ed529dc3fecfb36729f9d7"><div class="ttname"><a href="structCompass_1_1mag__state.html#a90887b7c30ed529dc3fecfb36729f9d7">Compass::mag_state::motor_compensation</a></div><div class="ttdeci">AP_Vector3f motor_compensation</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00380">Compass.h:380</a></div></div>
<div class="ttc" id="classCompass_html_abb757f0add93c16d079a469265e2489b"><div class="ttname"><a href="classCompass.html#abb757f0add93c16d079a469265e2489b">Compass::_mag_history_size</a></div><div class="ttdeci">static const uint8_t _mag_history_size</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00352">Compass.h:352</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_ab28e5dcaf24ec01fef67b8b5c5a84a9e"><div class="ttname"><a href="structCompass_1_1mag__state.html#ab28e5dcaf24ec01fef67b8b5c5a84a9e">Compass::mag_state::field</a></div><div class="ttdeci">Vector3f field</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00386">Compass.h:386</a></div></div>
<div class="ttc" id="classCompass_html_adeefda110ce0a02edfb3d344d632777a"><div class="ttname"><a href="classCompass.html#adeefda110ce0a02edfb3d344d632777a">Compass::save_motor_compensation</a></div><div class="ttdeci">void save_motor_compensation()</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00555">Compass.cpp:555</a></div></div>
<div class="ttc" id="classCompass_html_a744abf5d30fae4c6551f2c447560f8fa"><div class="ttname"><a href="classCompass.html#a744abf5d30fae4c6551f2c447560f8fa">Compass::has_raw_field</a></div><div class="ttdeci">bool has_raw_field() const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00125">Compass.h:125</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Nov 14 2015 23:43:12 for APM:Libraries by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
